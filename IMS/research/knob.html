<!DOCTYPE html>
<html>
<head>
<title>Volume Knob</title>
<style>
body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-color: #f0f0f0;
}

.knob-container {
  position: relative;
  width: 100px;
  height: 100px;
}

.knob {
    width: 100px;
    height: 100px;
    border: 5px solid #333;
    border-radius: 80%;
    background: linear-gradient( #555, #222);
    position: relative;
    transform: translate(-50%, -50%);
    cursor: grab; /* Change cursor on hover */
    user-select: none; /* Prevent text selection */
    top: 50%;
    left: 50%;
}

.knob::before { /* The indicator line */
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%);
  width: 6px;
  height: 40%; /* Adjust length as needed */
  background-color: #fff;
  border-radius: 3px;
}

.value-display {
    margin-top: 20px;
    text-align: center;
    font-size: 20px;
}
</style>
</head>
<body>

<div class="knob-container">
  <div class="knob" id="myKnob"></div>
  <div class="value-display" id="volumeValue">0</div>
</div>


<script>
const knob = document.getElementById('myKnob');
const volumeValueDisplay = document.getElementById('volumeValue');
let isDragging = false;
let startY;
let startAngle = 90; // Initial angle (middle)
let currentAngle = startAngle;

knob.addEventListener('mousedown', (e) => {
  isDragging = true;
  startY = e.clientY;
});

document.addEventListener('mousemove', (e) => {
  if (!isDragging) return;

  const deltaY = e.clientY - startY;
  let newAngle = currentAngle - deltaY;

  // Constrain the angle between 0 and 180
  newAngle = Math.max(0, Math.min(180, newAngle));

  knob.style.transform = `translate(-50%, -50%) rotate(${newAngle}deg)`;
    volumeValueDisplay.textContent = Math.round(newAngle);

});

document.addEventListener('mouseup', () => {
  isDragging = false;
    currentAngle = parseFloat(knob.style.transform.replace('translate(-50%, -50%) rotate(', '').replace('deg)', ''));

});

// Prevent default drag behavior
knob.addEventListener('dragstart', (e) => {
  e.preventDefault();
});
</script>

</body>
</html>